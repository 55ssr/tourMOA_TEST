<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE sqlMap PUBLIC "-//iBATIS.com//DTD SQL Map 2.0//EN" "http://www.ibatis.com/dtd/sql-map-2.dtd">

<sqlMap namespace="Member">

	<typeAlias  alias="egovMap" type="egovframework.rte.psl.dataaccess.util.EgovMap"/>
	<typeAlias  alias="memberVO" type="tourMOA.service.MemberVO"/>

	<select id="memberDAO.selectCustIdDuplication" resultClass="java.lang.Integer">
		SELECT COUNT(*) FROM member
			WHERE id = '$id$'
	</select>
	
	<select id="memberDAO.findId" resultClass="java.lang.Integer">
		SELECT COUNT(*) FROM member
			WHERE name = '$name$' AND email = '$email$'
	</select>
	
	
	<select id="memberDAO.findPwRe" resultClass="java.lang.Integer">
		SELECT COUNT(*) FROM member
			WHERE id = '$id$' AND email = '$email$'
	</select>
	
	<select id="memberDAO.loginSession" resultClass="java.lang.Boolean">
	
		SELECT COUNT(*) FROM MEMBER
			WHERE id = '$id$' AND pwd = '$pwd$'
	
	</select>
	
	<insert id="memberDAO.insertMemberJoin">
		INSERT INTO MEMBER (	
							unq,
							id,
							pwd,
							name,
							gender,
							email,
							phone,
							postnum1,
							addr1_1,
							addr1_2,
							birthday,
							agree1,
							agree2
						) VALUES (
							SEQ_MEMBER_UNQ.nextval,
							'$id$',
							'test!1234',
							'$name$',
							'$gender$',
							'$email$',
							'$phone$',
							'$postnum1$',
							'$addr1_1$',
							'$addr1_2$',
							'$birthday$',
							'$agree1$',
							'$agree2$'
						)
	</insert>
	
</sqlMap>